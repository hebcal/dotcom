DROP TABLE IF EXISTS ZIPCodes;
DROP TABLE IF EXISTS ZIPCodes_Primary;
DROP TABLE IF EXISTS ZIPCodes_CityFullText;

CREATE TABLE ZIPCodes (
	ZipCode char(5) NOT NULL,
	City varchar(35) NULL,
	State char(2),
	County varchar(45) NULL,
	AreaCode varchar(55) NULL,
	CityType char(1) NULL,
	CityAliasAbbreviation varchar(13) NULL,
	CityAliasName varchar(35) NULL,
	Latitude decimal(12, 6),
	Longitude decimal(12, 6),
	TimeZone char(2) NULL,
	Elevation int,
	CountyFIPS char(5) NULL,
	DayLightSaving char(1) NULL,
	PreferredLastLineKey varchar(10) NULL,
	ClassificationCode char(1) NULL,
	MultiCounty char(1) NULL,
	StateFIPS char(2) NULL,
	CityStateKey char(6) NULL,
	CityAliasCode varchar(5) NULL,
	PrimaryRecord char(1),
	CityMixedCase varchar(35) NULL,
	CityAliasMixedCase varchar(35) NULL,
	StateANSI varchar(2) NULL,
	CountyANSI varchar(3) NULL,
	FacilityCode varchar(1) NULL,
	CityDeliveryIndicator varchar(1) NULL,
	CarrierRouteRateSortation varchar(1) NULL,
	FinanceNumber varchar(6) NULL,
	UniqueZIPName varchar(1) NULL,
	CountyMixedCase varchar(45) NULL
);

CREATE TABLE ZIPCodes_Primary (
 ZipCode char(5) NOT NULL PRIMARY KEY,
 City varchar(35) NULL,
 State char(2),
 County varchar(45) NULL,
 AreaCode varchar(55) NULL,
 CityType char(1) NULL,
 CityAliasAbbreviation varchar(13) NULL,
 CityAliasName varchar(35) NULL,
 Latitude decimal(12, 6),
 Longitude decimal(12, 6),
 TimeZone char(2) NULL,
 Elevation int,
 CountyFIPS char(5) NULL,
 DayLightSaving char(1) NULL,
 PreferredLastLineKey varchar(10) NULL,
 ClassificationCode char(1) NULL,
 MultiCounty char(1) NULL,
 StateFIPS char(2) NULL,
 CityStateKey char(6) NULL,
 CityAliasCode varchar(5) NULL,
 PrimaryRecord char(1),
 CityMixedCase varchar(35) NULL,
 CityAliasMixedCase varchar(35) NULL,
 StateANSI varchar(2) NULL,
 CountyANSI varchar(3) NULL,
 FacilityCode varchar(1) NULL,
 CityDeliveryIndicator varchar(1) NULL,
 CarrierRouteRateSortation varchar(1) NULL,
 FinanceNumber varchar(6) NULL,
 UniqueZIPName varchar(1) NULL,
 CountyMixedCase varchar(45) NULL
);

CREATE VIRTUAL TABLE ZIPCodes_CityFullText USING fts3(ZipCode,CityMixedCase);
